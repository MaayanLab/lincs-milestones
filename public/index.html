<!DOCTYPE html>
<html lang="en" ng-app="Milestones">
<head>
	<title>Milestones</title>
	<!-- CSS -->
	<link rel="stylesheet" href="libraries/font-awesome/css/font-awesome.min.css">    
    <link rel="stylesheet" type="text/css" href="libraries/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="CSS/main.css">

	<!-- libraries    -->
    <script src="libraries/jquery/jquery.min.js"></script>
    <script src="libraries/string/lib/string.min.js"></script>
    <script src="libraries/underscore/underscore-min.js"></script>
    <script src="libraries/angular/angular.js"></script>
    <script src="libraries/angular-smart-table/dist/smart-table.min.js"></script>
    <script src="versioned/libraries/ui-bootstrap-tpls-0.12.0.min.js"></script>

    <!-- scripts -->
    <script src="scripts/app.js"></script>
    <script src="scripts/services.js"></script>
    <script src="scripts/controllers.js"></script>
</head>
<body ng-controller="tableCtrl">
    <div class="container">
        <div class="row download-spreadsheets">
            <div class="col-md-12">
                <a href="data/Milestones.zip">Download All Milestones Spreadsheets</a>
            </div>
        </div>
        <div class="row">
            <h1 class="col-md-12">LINCS Data Release Milestones</h1>
            <table class="table col-md-12" id="summary">
                <tbody>
                    <tr>
                        <td>
                            <span class="bigLetter">Centers:</span>
                            <span class="bigNum">{{summary.center}}</span>
                        </td>
                        <td>
                            <span class="bigLetter">Assays:</span>
                            <span class="bigNum">{{summary.assays}}</span>
                        </td>
                        <td>
                            <span class="bigLetter">Perturbagens:
                            <span class="bigNum">~{{summary.perturbagens}}</span>
                        </td>
                        <td>
                            <span class="bigLetter">Cell-lines:
                            <span class="bigNum">~{{summary.cellLines}}</span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            <table st-table="displayedDocs" st-safe-src="docs" class="table table-striped col-md-12">
                <thead>
                    <tr>
                        <th st-sort="center">Center</th>
                        <th>Assay</th>
                        <th>Perturbagens</th>
                        <th>Cell-lines</th>
                        <th>Readouts</th>
                        <th st-sort="getters.release">Release</th>
                    </tr>
                    <tr>
                        <th colspan="6">
                            <input placeholder="Global search. Example keywords: image, gene expression, phospho, etc.        Table can be sortable by Center and Release" st-search type="search" class="form-control" />
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="doc in displayedDocs">
                        <td class="center-name"><a href="{{centerMap.urls[doc['center']]}}" target="_blank"><img class="logo" ng-src="{{centerMap.logos[doc['center']]}}" />{{doc["center"]}}</a></td>
                        <td>{{doc["assay"]}}</td>
                        <td>
                            <div ng-repeat="count in doc['perturbagens-count']">
                                {{count.type+" : "+count.count}}
                            </div>
                        </td>
                        <td>
                            <div ng-repeat="count in doc['cell-lines-count']">
                                {{count.type+" : "+count.count}}
                            </div>
                        </td>
                        <td>
                            <div ng-repeat="readout in doc['readouts']">
                                {{readout}}
                            </div>
                        </td>
                        <td>{{doc['release-date']}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
